{"ast":null,"code":"export async function queryWolframAlpha(category, year) {\n  const queryParams = ['appid=7E34XY-YUPTQPH3YV', `input=${encodeURIComponent(`oscars ${category} nominees ${year}`)}`, 'output=json', 'format=plaintext'];\n  const url = `http://api.wolframalpha.com/v1/query?${queryParams.join('&')}`;\n  const response = await fetch(`https://api.allorigins.win/get?url=${encodeURIComponent(url)}`);\n  const data = await response.json();\n  const queryResponse = JSON.parse(data.contents);\n  const answerPod = queryResponse.queryresult.pods.find(pod => pod.id === 'Result');\n  if (!answerPod) return 'Could not parse Wolfram Alpha results';\n  if (!answerPod.subpods.length) return 'No Wolfram Alpha results returned';\n  return answerPod.subpods[0].plaintext;\n}","map":{"version":3,"sources":["/Users/kylenazario/Developer/randomoscars.github.io/src/WolframAlpha.connector.ts"],"names":["queryWolframAlpha","category","year","queryParams","encodeURIComponent","url","join","response","fetch","data","json","queryResponse","JSON","parse","contents","answerPod","queryresult","pods","find","pod","id","subpods","length","plaintext"],"mappings":"AAEA,OAAO,eAAeA,iBAAf,CAAiCC,QAAjC,EAAmDC,IAAnD,EAAkF;AACrF,QAAMC,WAAW,GAAG,CAAC,yBAAD,EAA6B,SAAQC,kBAAkB,CAAE,UAASH,QAAS,aAAYC,IAAK,EAArC,CAAwC,EAA/F,EAAkG,aAAlG,EAAiH,kBAAjH,CAApB;AACA,QAAMG,GAAG,GAAI,wCAAuCF,WAAW,CAACG,IAAZ,CAAiB,GAAjB,CAAsB,EAA1E;AACA,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,sCAAqCJ,kBAAkB,CAACC,GAAD,CAAM,EAA/D,CAA5B;AACA,QAAMI,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;AACA,QAAMC,aAAa,GAAGC,IAAI,CAACC,KAAL,CAAWJ,IAAI,CAACK,QAAhB,CAAtB;AAEA,QAAMC,SAAS,GAAGJ,aAAa,CAACK,WAAd,CAA0BC,IAA1B,CAA+BC,IAA/B,CAAoCC,GAAG,IAAIA,GAAG,CAACC,EAAJ,KAAW,QAAtD,CAAlB;AACA,MAAI,CAACL,SAAL,EAAgB,OAAO,uCAAP;AAEhB,MAAI,CAACA,SAAS,CAACM,OAAV,CAAkBC,MAAvB,EAA+B,OAAO,mCAAP;AAC/B,SAAOP,SAAS,CAACM,OAAV,CAAkB,CAAlB,EAAqBE,SAA5B;AACH","sourcesContent":["import {WAQueryResponse} from \"./Models\";\n\nexport async function queryWolframAlpha(category: string, year: number): Promise<string> {\n    const queryParams = ['appid=7E34XY-YUPTQPH3YV', `input=${encodeURIComponent(`oscars ${category} nominees ${year}`)}`, 'output=json', 'format=plaintext'];\n    const url = `http://api.wolframalpha.com/v1/query?${queryParams.join('&')}`;\n    const response = await fetch(`https://api.allorigins.win/get?url=${encodeURIComponent(url)}`);\n    const data = await response.json()\n    const queryResponse = JSON.parse(data.contents) as WAQueryResponse\n\n    const answerPod = queryResponse.queryresult.pods.find(pod => pod.id === 'Result');\n    if (!answerPod) return 'Could not parse Wolfram Alpha results';\n\n    if (!answerPod.subpods.length) return 'No Wolfram Alpha results returned';\n    return answerPod.subpods[0].plaintext;\n}\n"]},"metadata":{},"sourceType":"module"}